{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/AlbumMediaItemImage.vue?7bac","webpack:///./src/components/AlbumList.vue?38f4","webpack:///./src/components/App.vue?be97","webpack:///./src/components/AlbumMediaItem.vue?adf3","webpack:///./src/api/google-photos.ts","webpack:///./src/store/modules/photos.ts","webpack:///./src/store/index.ts","webpack:///./src/components/App.vue?2e39","webpack:///./src/components/SelectAlbum.vue?dc3a","webpack:///./src/components/SelectAlbum.vue","webpack:///./src/components/SelectAlbum.vue?4409","webpack:///./src/components/SelectAlbum.vue?a012","webpack:///./src/components/Album.vue?2f8c","webpack:///./src/components/AlbumMediaItem.vue?ce65","webpack:///./src/components/AlbumMediaItemImage.vue?6cac","webpack:///./src/utils.ts","webpack:///./src/components/AlbumMediaItemImage.vue","webpack:///./src/components/AlbumMediaItemImage.vue?e113","webpack:///./src/components/AlbumMediaItemImage.vue?8a4e","webpack:///./src/components/AlbumMediaItemText.vue?7286","webpack:///./src/components/AlbumMediaItemText.vue","webpack:///./src/components/AlbumMediaItemText.vue?dfe0","webpack:///./src/components/AlbumMediaItemText.vue?2b9a","webpack:///./src/components/AlbumMediaItem.vue","webpack:///./src/components/types.ts","webpack:///./src/components/AlbumMediaItem.vue?70fb","webpack:///./src/components/AlbumMediaItem.vue?e629","webpack:///./src/components/Album.vue","webpack:///./src/components/Album.vue?be6c","webpack:///./src/components/Album.vue?8154","webpack:///./src/components/Login.vue?8796","webpack:///./src/components/Login.vue","webpack:///./src/components/Login.vue?6a4f","webpack:///./src/components/Login.vue?21e5","webpack:///./src/components/TextareaExternalState.vue?ad82","webpack:///./src/components/TextareaExternalState.vue","webpack:///./src/components/TextareaExternalState.vue?51a2","webpack:///./src/components/TextareaExternalState.vue?03c5","webpack:///./src/components/AlbumList.vue?1a45","webpack:///./src/components/AlbumList.vue","webpack:///./src/components/AlbumList.vue?703a","webpack:///./src/components/AlbumList.vue?a6f0","webpack:///./src/components/App.vue","webpack:///./src/components/App.vue?c0ef","webpack:///./src/components/App.vue?1a3c","webpack:///./src/main.ts","webpack:///./src/components/Album.vue?78e5"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","gapi","this","albumId","handle","client","albums","then","response","list","pageSize","console","log","forEach","album","searchMediaItems","id","title","mediaItems","mediaItem","url","baseUrl","a","head","headers","sort","b","parseFloat","mediaItemsCount","albumList","listAlbums","pageToken","search","resource","callback","defaultResponse","getGapiClient","isSignedIn","photoslibrary","googlePhotos","actions","getAlbum","commit","state","Promise","resolve","find","viewMediaItem","signIn","nextPageToken","mutations","setAlbums","setAlbum","setMediaItems","addMediaItems","concat","setMediaItem","setIsSignedIn","namespaced","use","debug","store","photos","strict","plugins","Store","_vm","_h","$createElement","_c","_self","attrs","externalStatePath","_e","staticRenderFns","domProps","on","$event","$emit","target","_v","_l","_s","mapActions","mapState","String","computed","methods","component","class","directives","rawName","expression","_q","format","item","description","view","descriptionTheme","style","backgroundColor","getRandomColor","hex","delta","lightness","Math","random","BACKGROUND_COLOR","BACKGROUND_COLOR_DELTA","COLOR","COLOR_DELTA","color","floor","extractDescriptionTheme","warn","$gtag","event","event_category","event_label","normalizedDescription","replace","matches","match","split","trim","components","AlbumMediaItemText","AlbumMediaItemImage","AlbumFormat","Photo","AlbumMediaItem","logout","login","$gapi","filenameCountMap","JSON","parse","stringify","$store","baseUrlDirectory","document","map","filename","lastDot","lastIndexOf","extension","substring","filenameNormalized","toLowerCase","_m","defaultTitle","selectedAlbumId","listenUserSignIn","TextareaExternalState","Login","Album","SelectAlbum","AlbumList","GOOGLE_OAUTH2_CLIENT_ID","GOOGLE_ANALYTICS_ID","config","productionTip","elementId","getElementById","dataset","fetch","json","replaceState","discoveryDocs","clientId","scope","created","initialize","render","h","props","$mount"],"mappings":"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","file":"js/app.c8acbc51.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/google-photos-vue/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumMediaItemImage.vue?vue&type=style&index=0&id=096a4bf0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumMediaItemImage.vue?vue&type=style&index=0&id=096a4bf0&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumList.vue?vue&type=style&index=0&id=26e42dd1&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumList.vue?vue&type=style&index=0&id=26e42dd1&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumMediaItem.vue?vue&type=style&index=0&id=adc748a4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumMediaItem.vue?vue&type=style&index=0&id=adc748a4&scoped=true&lang=css&\"","import { GApi } from '@/types/gapi'\nimport Album = gapi.client.photoslibrary.Album;\nimport SearchMediaItemsResponse = gapi.client.photoslibrary.SearchMediaItemsResponse;\nimport axios from 'axios';\nexport class GooglePhotos {\n  private gapi!: GApi;\n\n  initialize (gapi: GApi) {\n    this.gapi = gapi\n\n    return this\n  }\n\n  getAlbum (albumId: string) {\n    return this.handle<Album|null>(\n      function (client) {\n        return client.albums.get({ albumId }).then(function (response) {\n          return response.result\n        })\n      },\n      null\n    )\n  }\n\n  listAlbums () {\n    return this.handle<Album[]>(\n      async (client) => {\n        const response = await client.albums.list({\n          pageSize: 50\n        });\n        console.log(\"test\");\n        const albums = response.result.albums;\n        albums?.forEach((album) => {\n          const items = this.searchMediaItems(album.id!).then((response) => {\n            console.log(album.title);\n            console.log(response.mediaItems?.length);\n            const mediaItems = response.mediaItems;\n            mediaItems?.forEach((mediaItem) => {\n              const url = mediaItem.baseUrl;\n\n              axios.head(url!)\n                .then(response => (\n                  console.log(`size: ${response.headers['content-length']}`)\n                ));\n            })\n          });\n        });\n\n        albums?.sort((a, b) => parseFloat(b.mediaItemsCount!) - parseFloat(a.mediaItemsCount!));\n\n        //);\n        return albums!;\n      },\n      []\n    )\n  }\n\n  listAlbumsComplete () {\n    const albumList = this.listAlbums();//.then((values) => { return values});\n    // const albums = albumList.then((result) => {\n    //   //return result;\n    //   result.forEach((album) => {\n    //     //let mediaItmes = this.searchMediaItems(album.id)\n    //     album.photoCount = 1;\n    //   });\n    // });\n\n    //return albums;\n    return albumList;\n  }\n\n  searchMediaItems (albumId: string, pageToken?: string) {\n    return this.handle<SearchMediaItemsResponse>(function (client) {\n      return client.mediaItems.search({\n        resource: {\n          albumId,\n          pageSize: 100,\n          pageToken\n        }\n      }).then(function (response) {\n\n        return response.result\n      })\n    })\n  }\n\n  /**\n   * Handles Google API client calls\n   *\n   * @param callback invoked with Google Photos client when user is signed in\n   * @param defaultResponse return value when user is not signed in\n   */\n  private handle<T> (callback: (client: typeof gapi.client.photoslibrary) => PromiseLike<T>, defaultResponse?: T) {\n    return this.gapi.getGapiClient().then((gapi) => {\n      return this.gapi.isSignedIn().then(function (isSignedIn) {\n        return isSignedIn ? callback(gapi.client.photoslibrary) : defaultResponse!\n      })\n    })\n  }\n}\n\nconst googlePhotos = new GooglePhotos()\nexport default googlePhotos\n","import { ActionTree, Commit, Module, MutationTree } from 'vuex'\nimport { State } from '@/store'\nimport googlePhotos from '@/api/google-photos'\nimport Album = gapi.client.photoslibrary.Album;\nimport MediaItem = gapi.client.photoslibrary.MediaItem;\n\nexport interface PhotosState {\n  album: Album|null\n  albums: Album[]\n  isSignedIn: boolean|null\n  mediaItem: MediaItem|null\n  mediaItems: MediaItem[]\n}\n\nconst state: PhotosState = {\n  album: null,\n  albums: [],\n  isSignedIn: null,\n  mediaItem: null,\n  mediaItems: []\n}\n\nconst actions: ActionTree<PhotosState, State> = {\n  getAlbum ({ commit, state }, albumId?: string) {\n    if (!albumId) {\n      return commit('setAlbum', null)\n    }\n\n    return new Promise(function (resolve) {\n      const album = state.albums.find(function (album) {\n        return albumId === album.id\n      })\n\n      if (album) {\n        resolve(album)\n      } else {\n        googlePhotos.getAlbum(albumId).then(resolve)\n      }\n    }).then(function (album) {\n      commit('setAlbum', album)\n\n      searchMediaItems(commit, albumId)\n    })\n  },\n  listAlbums ({ commit }) {\n    commit('setAlbums', [])\n\n    return googlePhotos.listAlbums().then(function (albums) {\n      commit('setAlbums', albums)\n    })\n  },\n  viewMediaItem ({ commit }, mediaItem: MediaItem|null = null) {\n    commit('setMediaItem', mediaItem)\n  },\n  signIn ({ commit }, isSignedIn) {\n    commit('setIsSignedIn', isSignedIn)\n  }\n}\n\nfunction searchMediaItems (commit: Commit, albumId: string, pageToken?: string) {\n  googlePhotos.searchMediaItems(albumId, pageToken).then(function (response) {\n    commit(pageToken ? 'addMediaItems' : 'setMediaItems', response.mediaItems)\n\n    const nextPageToken = response.nextPageToken\n\n    if (nextPageToken) {\n      searchMediaItems(commit, albumId, nextPageToken)\n    }\n  })\n}\n\nconst mutations: MutationTree<PhotosState> = {\n  setAlbums (state, albums) {\n    state.albums = albums\n  },\n  setAlbum (state, album) {\n    state.album = album\n    state.mediaItems = []\n  },\n  setMediaItems (state, mediaItems) {\n    state.mediaItems = mediaItems\n  },\n  addMediaItems (state, mediaItems) {\n    state.mediaItems = state.mediaItems.concat(mediaItems)\n  },\n  setMediaItem (state, mediaItem) {\n    state.mediaItem = mediaItem\n  },\n  setIsSignedIn (state, isSignedIn) {\n    state.isSignedIn = isSignedIn\n\n    if (!isSignedIn) {\n      state.album = null\n      state.albums = []\n      state.mediaItems = []\n    }\n  }\n}\n\nconst module: Module<PhotosState, State> = {\n  namespaced: true,\n  state,\n  actions,\n  mutations\n}\n\nexport default module\n","import Vue from 'vue'\nimport Vuex, { StoreOptions } from 'vuex'\nimport photos, { PhotosState } from '@/store/modules/photos'\nimport createLogger from 'vuex/dist/logger'\n\nVue.use(Vuex)\n\nexport interface State {\n  photos: PhotosState\n}\n\nconst debug = process.env.NODE_ENV !== 'production'\n\nconst store: StoreOptions<State> = {\n  modules: {\n    photos\n  },\n  strict: debug,\n  plugins: debug ? [createLogger()] : []\n}\n\nexport default new Vuex.Store<State>(store)\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(!_vm.externalStatePath)?_c('div',[_c('Login'),_c('hr')],1):_vm._e(),_c('div',[_c('AlbumList')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('select',{attrs:{\"disabled\":!_vm.isSignedIn || 0 === _vm.albums.length},domProps:{\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event.target.value)}}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"Select Album...\")]),_vm._l((_vm.albums),function(album){return _c('option',{key:album.id,domProps:{\"value\":album.id}},[_vm._v(\" \"+_vm._s(album.title)+\" \")])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\nimport { createNamespacedHelpers } from 'vuex'\nimport Album = gapi.client.photoslibrary.Album;\n\nconst { mapActions, mapState } = createNamespacedHelpers('photos')\n\n@Component({\n  computed: mapState([\n    'albums',\n    'isSignedIn'\n  ]),\n  methods: mapActions([\n    'listAlbums'\n  ])\n})\nexport default class SelectAlbum extends Vue {\n  readonly albums!: Album[];\n  readonly isSignedIn!: boolean;\n  @Prop(String) readonly value!: string;\n\n  @Watch('isSignedIn')\n  listAlbums!: Function;\n\n  created () {\n    this.listAlbums()\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectAlbum.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectAlbum.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectAlbum.vue?vue&type=template&id=25649082&\"\nimport script from \"./SelectAlbum.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectAlbum.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.album)?_c('div',{class:{'is-viewing-media-item': _vm.mediaItem}},[_c('header',[_c('h1',[_vm._v(_vm._s(_vm.album.title))]),_c('nav',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.format),expression:\"format\"}],attrs:{\"type\":\"radio\",\"id\":\"format-image\",\"value\":\"photo\"},domProps:{\"checked\":_vm._q(_vm.format,\"photo\")},on:{\"change\":function($event){_vm.format=\"photo\"}}}),_c('label',{attrs:{\"for\":\"format-image\"}},[_vm._v(\"Photo\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.format),expression:\"format\"}],attrs:{\"type\":\"radio\",\"id\":\"format-text\",\"value\":\"text\"},domProps:{\"checked\":_vm._q(_vm.format,\"text\")},on:{\"change\":function($event){_vm.format=\"text\"}}}),_c('label',{attrs:{\"for\":\"format-text\"}},[_vm._v(\"Text\")])])]),_c('ul',_vm._l((_vm.mediaItems),function(item){return _c('AlbumMediaItem',{key:item.id,attrs:{\"format\":_vm.format,\"media-item\":item}})}),1),(_vm.mediaItem)?_c('aside',{on:{\"click\":function($event){return _vm.viewMediaItem(null)}}},[_c('img',{attrs:{\"src\":_vm.mediaItem.baseUrl}})]):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{class:['is-' + _vm.format],attrs:{\"title\":_vm.description}},[_c('a',{on:{\"click\":function($event){return _vm.view()}}},[('photo' === _vm.format)?_c('AlbumMediaItemImage',{attrs:{\"description-theme\":_vm.descriptionTheme,\"media-item\":_vm.mediaItem}}):_c('AlbumMediaItemText',{attrs:{\"description-theme\":_vm.descriptionTheme}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{style:({ 'background-color': _vm.backgroundColor }),attrs:{\"alt\":_vm.descriptionTheme,\"src\":_vm.mediaItem.baseUrl}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import color from 'onecolor'\n\nexport function getRandomColor (hex: string, delta: number) {\n  return color(hex).lightness(Math.random() * 2 * delta - delta, true).hex()\n}\n","\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { getRandomColor } from '@/utils'\nimport MediaItem = gapi.client.photoslibrary.MediaItem;\n\nconst BACKGROUND_COLOR = '#202124'\nconst BACKGROUND_COLOR_DELTA = 0.1\n\n@Component\nexport default class AlbumMediaItemImage extends Vue {\n  @Prop(String) readonly descriptionTheme!: string;\n  @Prop(Object) readonly mediaItem!: MediaItem;\n\n  backgroundColor: string = getRandomColor(BACKGROUND_COLOR, BACKGROUND_COLOR_DELTA);\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumMediaItemImage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumMediaItemImage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AlbumMediaItemImage.vue?vue&type=template&id=096a4bf0&scoped=true&\"\nimport script from \"./AlbumMediaItemImage.vue?vue&type=script&lang=ts&\"\nexport * from \"./AlbumMediaItemImage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AlbumMediaItemImage.vue?vue&type=style&index=0&id=096a4bf0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"096a4bf0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{style:(_vm.style)},[_vm._v(_vm._s(_vm.descriptionTheme))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { getRandomColor } from '@/utils'\n\nconst COLOR = '#a7a7a7'\nconst COLOR_DELTA = 0.25\n\n@Component\nexport default class AlbumMediaItemText extends Vue {\n  @Prop(String) readonly descriptionTheme!: string;\n\n  color: string = getRandomColor(COLOR, COLOR_DELTA);\n\n  get style () {\n    return {\n      color: this.color,\n      'font-weight': 100 * (Math.floor(Math.random() * 7) + 1)\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumMediaItemText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumMediaItemText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AlbumMediaItemText.vue?vue&type=template&id=014d001c&\"\nimport script from \"./AlbumMediaItemText.vue?vue&type=script&lang=ts&\"\nexport * from \"./AlbumMediaItemText.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { AlbumFormat } from '@/components/types'\nimport AlbumMediaItemImage from '@/components/AlbumMediaItemImage.vue'\nimport AlbumMediaItemText from '@/components/AlbumMediaItemText.vue'\nimport { createNamespacedHelpers } from 'vuex'\nimport MediaItem = gapi.client.photoslibrary.MediaItem;\n\nconst { mapActions } = createNamespacedHelpers('photos')\n\n@Component({\n  components: { AlbumMediaItemText, AlbumMediaItemImage },\n  methods: mapActions([\n    'viewMediaItem'\n  ])\n})\nexport default class AlbumMediaItem extends Vue {\n  @Prop(Object) readonly mediaItem!: MediaItem;\n  @Prop(String) readonly format!: AlbumFormat;\n\n  descriptionTheme: string = '';\n  viewMediaItem!: (mediaItem: MediaItem|null) => void;\n\n  get description () {\n    const description = this.mediaItem.description\n\n    return description ? description.trim() : ''\n  }\n\n  created () {\n    if (this.description) {\n      this.descriptionTheme = `${this.extractDescriptionTheme(this.description)} `\n    } else {\n      console.warn('Media item does not have description', this.mediaItem)\n    }\n  }\n\n  view () {\n    this.viewMediaItem(this.mediaItem)\n\n    if (typeof this.$gtag !== 'undefined') {\n      this.$gtag.event('Click', { event_category: this.format, event_label: this.descriptionTheme })\n    }\n  }\n\n  private extractDescriptionTheme (description: string) {\n    let normalizedDescription = description.replace(/[\\u201C\\u201D]/g, '\"')\n\n    const matches = normalizedDescription.match(/[^\"]*\"([^\"]+)\"[^\"]*/)\n\n    if (normalizedDescription.split('\"').length !== 3 || matches === null) {\n      console.warn('Potentially unable to parse description', { description, baseUrl: this.mediaItem.baseUrl })\n    }\n\n    return matches === null ? description : matches[1]\n  }\n}\n","export enum AlbumFormat {\n  Photo = 'photo',\n  Text = 'text',\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumMediaItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumMediaItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AlbumMediaItem.vue?vue&type=template&id=adc748a4&scoped=true&\"\nimport script from \"./AlbumMediaItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./AlbumMediaItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AlbumMediaItem.vue?vue&type=style&index=0&id=adc748a4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"adc748a4\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\nimport AlbumMediaItem from '@/components/AlbumMediaItem.vue'\nimport { AlbumFormat } from '@/components/types'\nimport { createNamespacedHelpers } from 'vuex'\nimport MediaItem = gapi.client.photoslibrary.MediaItem;\n\nconst { mapActions, mapState } = createNamespacedHelpers('photos')\n\n@Component({\n  components: {\n    AlbumMediaItem\n  },\n  computed: mapState([\n    'album',\n    'mediaItem',\n    'mediaItems'\n  ]),\n  methods: mapActions([\n    'getAlbum',\n    'viewMediaItem'\n  ])\n})\nexport default class Album extends Vue {\n  @Prop(String) readonly albumId!: string;\n\n  album!: gapi.client.photoslibrary.Album|null;\n  format: AlbumFormat = AlbumFormat.Photo;\n  mediaItem!: MediaItem|null;\n  mediaItems!: MediaItem[];\n\n  @Watch('albumId')\n  getAlbum!: Function;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Album.vue?vue&type=template&id=42f4186e&scoped=true&\"\nimport script from \"./Album.vue?vue&type=script&lang=ts&\"\nexport * from \"./Album.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Album.vue?vue&type=style&index=0&id=42f4186e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"42f4186e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(_vm.isSignedIn)?_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.logout()}}},[_vm._v(\" Logout \")]):_vm._e(),(!_vm.isSignedIn)?_c('button',{attrs:{\"disabled\":_vm.isSignedIn === null,\"type\":\"button\"},on:{\"click\":function($event){return _vm.login()}}},[_vm._v(\" Login \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport { createNamespacedHelpers } from 'vuex'\n\nconst { mapState } = createNamespacedHelpers('photos')\n\n@Component({\n  computed: mapState([\n    'isSignedIn'\n  ])\n})\nexport default class Login extends Vue {\n  readonly isSignedIn!: boolean|null;\n\n  login () {\n    this.$gapi.login()\n  }\n\n  logout () {\n    this.$gapi.logout()\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=78b4ef0a&\"\nimport script from \"./Login.vue?vue&type=script&lang=ts&\"\nexport * from \"./Login.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('textarea',{attrs:{\"readonly\":\"\"},domProps:{\"value\":_vm.state}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator'\nimport { State } from '@/store'\n\n@Component({})\nexport default class TextareaExternalState extends Vue {\n  get state () {\n    const filenameCountMap: { [filename: string]: number } = {}\n    const state: State = JSON.parse(JSON.stringify(this.$store.state))\n    const baseUrlDirectory = `${document.title.replace('/', '_')}_files`\n\n    state.photos.albums = []\n\n    state.photos.mediaItems = state.photos.mediaItems.map(function (mediaItem) {\n      let filename = mediaItem.filename!\n      const lastDot = filename.lastIndexOf('.')\n      let extension = filename.substring(1 + lastDot, filename.length)\n\n      if (extension === 'HEIC') {\n        extension = 'jpg'\n      }\n\n      filename = filename.substring(0, lastDot).replace('~', '_')\n      const filenameNormalized = filename.toLowerCase()\n\n      if (typeof filenameCountMap[filenameNormalized] !== 'undefined') {\n        filename += `(${filenameCountMap[filenameNormalized]++})`\n      } else {\n        filenameCountMap[filenameNormalized] = 1\n      }\n\n      mediaItem.baseUrl = `${baseUrlDirectory}/${filename}.${extension}`\n\n      return mediaItem\n    })\n\n    return JSON.stringify(state)\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextareaExternalState.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextareaExternalState.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextareaExternalState.vue?vue&type=template&id=496d4f6c&\"\nimport script from \"./TextareaExternalState.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextareaExternalState.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('table',[_vm._m(0),_c('tbody',_vm._l((_vm.albums),function(album){return _c('tr',{key:album.id,attrs:{\"value\":album.id}},[_c('td',[_vm._v(\" \"+_vm._s(album.title)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(album.mediaItemsCount)+\" \")]),_c('td'),_c('td'),_c('td')])}),0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('th',[_vm._v(\"Name\")]),_c('th',[_vm._v(\"Total Media\")]),_c('th',[_vm._v(\"Photos\")]),_c('th',[_vm._v(\"Videos\")]),_c('th',[_vm._v(\"Size\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\nimport { createNamespacedHelpers } from 'vuex'\nimport Album = gapi.client.photoslibrary.Album;\n\nconst { mapActions, mapState } = createNamespacedHelpers('photos')\n\n@Component({\n  computed: mapState([\n    'albums',\n    'isSignedIn'\n  ]),\n  methods: mapActions([\n    'listAlbums'\n  ])\n})\nexport default class ListAlbums extends Vue {\n  readonly albums!: Album[];\n  readonly isSignedIn!: boolean;\n  @Prop(String) readonly value!: string;\n\n  @Watch('isSignedIn')\n  listAlbums!: Function;\n\n  created () {\n    this.listAlbums()\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AlbumList.vue?vue&type=template&id=26e42dd1&scoped=true&\"\nimport script from \"./AlbumList.vue?vue&type=script&lang=ts&\"\nexport * from \"./AlbumList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AlbumList.vue?vue&type=style&index=0&id=26e42dd1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26e42dd1\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue, Watch } from 'vue-property-decorator'\nimport SelectAlbum from '@/components/SelectAlbum.vue'\nimport Album from '@/components/Album.vue'\nimport { createNamespacedHelpers } from 'vuex'\nimport Login from '@/components/Login.vue'\nimport TextareaExternalState from '@/components/TextareaExternalState.vue'\nimport AlbumList from '@/components/AlbumList.vue'\n\nconst { mapActions, mapState } = createNamespacedHelpers('photos')\n\n@Component({\n  components: {\n    TextareaExternalState,\n    Login,\n    Album,\n    SelectAlbum,\n    AlbumList\n  },\n  computed: mapState([\n    'album',\n    'isSignedIn'\n  ]),\n  methods: mapActions([\n    'signIn'\n  ])\n})\nexport default class App extends Vue {\n  @Prop(String) readonly externalStatePath!: string|null\n  readonly isSignedIn!: boolean|null;\n\n  defaultTitle: string = '';\n  selectedAlbumId: string = '';\n\n  signIn!: (isSignedIn: boolean) => void\n\n  created () {\n    if (this.$gapi) {\n      this.$gapi.isSignedIn().then(this.signIn)\n      this.$gapi.listenUserSignIn(this.signIn)\n    }\n\n    this.defaultTitle = document.title\n  }\n\n  @Watch('album')\n  onAlbumChange (album: gapi.client.photoslibrary.Album|null) {\n    document.title = album && album.title ? album.title : this.defaultTitle\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=e081dc96&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueGApi from 'vue-gapi'\nimport store from '@/store'\nimport App from '@/components/App.vue'\nimport googlePhotos from '@/api/google-photos'\nimport VueGtag from 'vue-gtag'\n\n/**\n * Google OAuth 2.0 Client ID\n *\n * @see https://support.google.com/googleapi/answer/6158849\n */\nconst GOOGLE_OAUTH2_CLIENT_ID = '912773918968-mc3jj0m09k687dh5u846q3qcubpe1keh.apps.googleusercontent.com'\n\n/**\n * Optional Google Analytics ID\n *\n * @see https://support.google.com/analytics/answer/1008080\n */\nconst GOOGLE_ANALYTICS_ID = null\n\nVue.config.productionTip = false\n\nconst elementId = 'app'\nconst externalStatePath = document.getElementById(elementId)!.dataset.externalStatePath\n\nif (externalStatePath) {\n  fetch(externalStatePath).then((response) => {\n    return response.json().then(store.replaceState.bind(store))\n  })\n} else {\n  Vue.use(VueGApi, {\n    discoveryDocs: ['https://photoslibrary.googleapis.com/$discovery/rest?version=v1'],\n    clientId: GOOGLE_OAUTH2_CLIENT_ID,\n    scope: 'https://www.googleapis.com/auth/photoslibrary.readonly'\n  })\n}\n\n// noinspection PointlessBooleanExpressionJS\nif (GOOGLE_ANALYTICS_ID) {\n  Vue.use(VueGtag, {\n    config: { id: GOOGLE_ANALYTICS_ID }\n  })\n}\n\nnew Vue({\n  created () {\n    googlePhotos.initialize(this.$gapi)\n  },\n  render: h => h(App, {\n    props: {\n      externalStatePath\n    }\n  }),\n  store\n}).$mount(`#${elementId}`)\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=style&index=0&id=42f4186e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Album.vue?vue&type=style&index=0&id=42f4186e&scoped=true&lang=css&\""],"sourceRoot":""}